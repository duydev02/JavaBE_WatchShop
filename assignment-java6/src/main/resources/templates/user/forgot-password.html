<th:block th:include="user/fragments/header"></th:block>

<main>
	<!-- Hero Area Start-->
	<div class="slider-area ">
		<div class="single-slider slider-height2 d-flex align-items-center">
			<div class="container">
				<div class="row">
					<div class="col-xl-12">
						<div class="hero-cap text-center">
							<h2>Forgot Password</h2>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- Hero Area End-->
	<!--================login_part Area =================-->
	<section class="login_part section_padding" id="forgotpassword_part">
		<div class="container">
			<div class="row align-items-center">
				<div class="col-lg-6 col-md-6">
					<div class="login_part_text text-center">
						<div class="login_part_text_iner">
							<h2>Already have an account</h2>
							<p>There are advances being made in science and technology
								everyday, and a good example of this is the</p>
							<a th:href="@{login}" class="btn_3">Login</a>
						</div>
					</div>
				</div>
				<div class="col-lg-6 col-md-6">
					<div class="login_part_form">
						<div class="login_part_form_iner">
							<h3>Don't worry ! <br>
								We'll help you</h3>
							<form class="row contact_form" th:action="@{/forgot-password}"
								name="myForm" th:onsubmit="return validateForm()" method="post"
								novalidate="novalidate">
								<div class="col-md-12 form-group p_star">
									<input type="text" class="form-control" id="email" name="email" value=""
										placeholder="Email" required autofocus>
									<p style="color: #ff3333" id="error_email"></p>
									<p style="color: #ff3333" th:if="${error != null}" th:text="${error}"></p>
									<p class="text-success" th:if="${message != null}" th:text="${message}"></p>
								</div>
								<div class="col-md-12 form-group">
									<button type="submit" value="submit" class="btn_3">
										Request
									</button>
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!--================login_part end =================-->
</main>

<script>
function validateForm() {
	const email = $('#email').val();
	const $result = $('#error_email');
	let check = true;
	if (email == "") {
	    $result.text('Please enter email');
	    check = false;
	} else {
	    validate();
	}
    
	function validateEmail(email) {
        return email.match(
            /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/
        );
    };

    function validate() {
        if (validateEmail(email)) {
            $result.text('');
            check = true;
        } else {
            $result.text(email + ' is not valid :(');
            check = false;
        }
    }
    
    return check;
}

	function loadPage() {
		$('html, body').animate({
			scrollTop : $("#forgotpassword_part").offset().top + (-100)
		}, 1000);
	}
	window.onload = loadPage;
</script>

<th:block th:include="user/fragments/footer"></th:block>